{"version":3,"file":"app.25f145118f3bee753ce0.js","mappings":"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","sources":["webpack://chess/./src/app/connection/config.js","webpack://chess/webpack/bootstrap","webpack://chess/webpack/runtime/define property getters","webpack://chess/webpack/runtime/hasOwnProperty shorthand","webpack://chess/webpack/runtime/make namespace object","webpack://chess/./src/app/service/index.js","webpack://chess/./src/base/Component/index.js","webpack://chess/./src/common/Header/index.js","webpack://chess/./src/common/Button/index.js","webpack://chess/./src/common/Input/index.js","webpack://chess/./src/common/Input/style.module.css?18cc","webpack://chess/./src/app/router/index.js","webpack://chess/./src/app/connection/index.js","webpack://chess/./src/app/data/actions.js","webpack://chess/./src/app/data/store.js","webpack://chess/./src/app/data/index.js","webpack://chess/./src/app/data/reducers.js","webpack://chess/./src/app/data/middlewares.js","webpack://chess/./src/app/connection/utils.js","webpack://chess/./src/modules/Menu/index.js","webpack://chess/./src/modules/Menu/style.module.css?3c5c","webpack://chess/./src/pages/game.js","webpack://chess/./src/index.js","webpack://chess/./src/pages/home.js","webpack://chess/./src/pages/alice.js","webpack://chess/./src/pages/bob.js","webpack://chess/./src/pages/connect.js","webpack://chess/./src/modules/Chess/index.js","webpack://chess/./src/modules/Chess/style.module.css?0976"],"sourcesContent":["export const peerConfiguration = {\n  iceServers: [\n    // Google STUN серверы\n    { urls: 'stun:stun.l.google.com:19302' },\n    { urls: 'stun:stun1.l.google.com:19302' },\n    { urls: 'stun:stun2.l.google.com:19302' },\n    { urls: 'stun:stun3.l.google.com:19302' },\n    { urls: 'stun:stun4.l.google.com:19302' },\n    // Twilio STUN сервер\n    { urls: 'stun:global.stun.twilio.com:3478' },\n    // Mozilla STUN сервер (неофициальный)\n    { urls: 'stun:stun.services.mozilla.com' },\n    // Nextcloud STUN сервер\n    { urls: 'stun:stun.nextcloud.com:443' },\n    // Nummertje STUN сервер\n    { urls: 'stun:numb.viagenie.ca' },\n    // VoIP STUN серверы\n    { urls: 'stun:stun.voip.blackberry.com:3478' },\n    { urls: 'stun:stun.voipbuster.com' },\n    { urls: 'stun:stun.voxgratia.org' },\n    { urls: 'stun:freestun.net:3479' },\n\n    { urls: 'stun:iphone-stun.strato-iphone.de:3478' },\n    { urls: 'stun:numb.viagenie.ca:3478' },\n    { urls: 'stun:s1.taraba.net:3478' },\n    { urls: 'stun:s2.taraba.net:3478' },\n    { urls: 'stun:stun.12connect.com:3478' },\n    { urls: 'stun:stun.12voip.com:3478' },\n    { urls: 'stun:stun.1und1.de:3478' },\n    { urls: 'stun:stun.2talk.co.nz:3478' },\n    { urls: 'stun:stun.2talk.com:3478' },\n    { urls: 'stun:stun.3clogic.com:3478' },\n    { urls: 'stun:stun.3cx.com:3478' },\n    { urls: 'stun:stun.a-mm.tv:3478' },\n    { urls: 'stun:stun.aa.net.uk:3478' },\n    { urls: 'stun:stun.acrobits.cz:3478' },\n\n    { urls: 'stun:stun.actionvoip.com:3478' },\n    { urls: 'stun:stun.advfn.com:3478' },\n    { urls: 'stun:stun.aeta-audio.com:3478' },\n    { urls: 'stun:stun.aeta.com:3478' },\n    { urls: 'stun:stun.alltel.com.au:3478' },\n    { urls: 'stun:stun.altar.com.pl:3478' },\n    { urls: 'stun:stun.annatel.net:3478' },\n    { urls: 'stun:stun.antisip.com:3478' },\n    { urls: 'stun:stun.arbuz.ru:3478' },\n    { urls: 'stun:stun.avigora.com:3478' },\n    { urls: 'stun:stun.avigora.fr:3478' },\n    { urls: 'stun:stun.awa-shima.com:3478' },\n    { urls: 'stun:stun.awt.be:3478' },\n    { urls: 'stun:stun.b2b2c.ca:3478' },\n  ],\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const PUBLIC_SW_PATH = './sw.js';\n\nexport const makeServiceWorkers = async () => {\n  if (navigator.serviceWorker) {\n    try {\n      const response = await navigator.serviceWorker.register(PUBLIC_SW_PATH);\n      console.log('SW register success', response);\n    } catch (error) {\n      console.error('SW register failed:', error);\n    }\n  }\n};\n","export default class {\n  constructor(tagName, attributes = {}) {\n    this._element = document.createElement(tagName);\n    for (const [key, value] of Object.entries(attributes)) {\n      this._element.setAttribute(key, value);\n    }\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  subscribe(store, callback) {\n    store.subscribe(callback);\n    callback();\n  }\n}\n","import { Component } from '@/base';\nimport './style.scss';\n\nexport default class extends Component {\n  constructor(text) {\n    super('div');\n    this._element.innerText = text;\n    this._element.classList.add('header');\n  }\n\n  updateText(text) {\n    this._element.innerText = text;\n  }\n}\n","import './style.css';\nimport { Component } from '@/base';\n\nexport default class extends Component {\n  constructor(text, onClick) {\n    super('button');\n    this._element.innerText = text;\n    this._element.classList.add('button');\n    this._element.onclick = onClick;\n  }\n}\n","import { Component } from '@/base';\nimport style from './style.module.css';\n\nexport default class extends Component {\n  constructor() {\n    super('input');\n    this._element.classList.add(style.input);\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"X6UxfUUG\"};","class Router {\n  constructor(pageId = 'page', isHashRouter = true) {\n    !isHashRouter && console.log('url routing is not available now');\n    this.pageId = pageId;\n\n    window.addEventListener('hashchange', (event) => {\n      this._resolve();\n    });\n\n    window.addEventListener('DOMContentLoaded', () => {\n      this._resolve();\n    });\n  }\n\n  initRoutes(routes) {\n    this._routes = routes;\n  }\n\n  initPageContainer(element) {\n    this._pageContainer = element;\n    this._pageContainer.id = 'page-container';\n  }\n\n  _activeClassResolver(eventType, callback) {\n    window.addEventListener(eventType, () => {\n      if (location.hash === '') {\n        callback('#');\n      } else {\n        callback(location.hash);\n      }\n    });\n  }\n\n  updateActiveClass(callback) {\n    this._activeClassResolver('hashchange', callback);\n    this._activeClassResolver('DOMContentLoaded', callback);\n  }\n\n  navigate(url) {\n    location.hash = url;\n  }\n\n  isActive(url) {\n    if (!location.hash && url === '#') {\n      return true;\n    }\n    if (location.hash === url) {\n      return true;\n    }\n    return false;\n  }\n\n  _updatePage(element) {\n    this._pageContainer.innerHTML = '';\n    this._pageContainer.appendChild(element);\n  }\n\n  _resolve() {\n    if (location.hash === '') {\n      const getHomePage = this._routes['/'];\n      if (getHomePage) {\n        this._updatePage(getHomePage());\n      }\n      return;\n    }\n\n    const getNewPage = this._routes[location.hash.replace('#', '/')];\n    if (getNewPage) {\n      this._updatePage(getNewPage());\n    } else {\n      this._pageContainer.innerHTML = '404 | Not Found';\n    }\n  }\n}\n\nexport default new Router();\n","const { peerConfiguration } = require('./config');\n\nclass WebRTCConnection {\n  constructor(peerConfiguration) {\n    this.peerConfiguration = peerConfiguration;\n  }\n\n  initPeerConnection() {\n    const state = JSON.parse(localStorage.getItem('chess-state'));\n    if (state?.connection) {\n      this.peerConfiguration.iceServers.push(...state.connection.turn);\n    }\n    this.peer = new RTCPeerConnection(this.peerConfiguration);\n  }\n\n  initLogger(logContainer) {\n    const addMessage = (message, status) => {\n      const log = document.createElement('div');\n      log.style.paddingBottom = '5px';\n      switch (status) {\n        case 'ok':\n          if (message) {\n            log.style.color = 'green';\n          }\n          break;\n        case 'error':\n          log.style.color = 'red';\n          break;\n        case 'state':\n          log.style.color = 'orange';\n          break;\n        default:\n          break;\n      }\n      log.innerText = message;\n      logContainer.prepend(log);\n    };\n    this.peer.onconnectionstatechange = (event) => {\n      const message = `[state changed]: ${this.peer.iceConnectionState}`;\n      addMessage(message, 'state');\n    };\n    this.peer.onicecandidateerror = (event) => {\n      addMessage(event.type, 'error');\n    };\n    this.peer.onicecandidate = (event) => {\n      const message = event.candidate?.candidate;\n      addMessage(message, 'ok');\n    };\n  }\n\n  getLocalDescription() {\n    return JSON.stringify(this.peer.localDescription);\n  }\n\n  onIceCandidate(callback) {\n    this.peer.addEventListener('icecandidate', () => {\n      callback();\n    });\n  }\n\n  setRemoteDescription(rowData) {\n    this.peer.setRemoteDescription(JSON.parse(rowData));\n  }\n\n  async createOffer() {\n    try {\n      const offer = await this.peer.createOffer();\n      this.peer.setLocalDescription(offer);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async createAnswer() {\n    try {\n      const answer = await this.peer.createAnswer();\n      this.peer.setLocalDescription(answer);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  onOpen(role, callback) {\n    switch (role) {\n      case 'alice':\n        this.peer.ondatachannel = (event) => {\n          console.log('on data channel', event);\n          this.dataChannel = event.channel;\n          this.dataChannel.onopen = callback;\n        };\n        break;\n      case 'bob':\n        this.dataChannel = this.peer.createDataChannel('channel-name');\n        this.dataChannel.onopen = callback;\n        break;\n      default:\n        console.error('unknown role');\n        break;\n    }\n  }\n}\n\nexport const connection = new WebRTCConnection(peerConfiguration);\n","// Profile\nexport const SET_USERNAME = 'SET_USERNAME';\n\nexport const FETCH_ERROR = 'FETCH_ERROR';\n\n// Connection\nexport const SET_TURN_SERVERS = 'SET_TURN_SERVERS';\nexport const DELETE_TURN_SERVERS = 'DELETE_TURN_SERVERS';\n","const LOCAL_STORAGE_KEY = 'chess-state';\n\nexport class Store {\n  constructor(reducers, middlewares = [], isLocalStorageConnected = true) {\n    this._reducers = reducers;\n    this._middlewares = middlewares;\n    this._isLocalStorageConnected = isLocalStorageConnected;\n\n    const stateFromLocalStorage = JSON.parse(\n      localStorage.getItem(LOCAL_STORAGE_KEY)\n    );\n    if (this._isLocalStorageConnected && stateFromLocalStorage) {\n      this._state = stateFromLocalStorage;\n    } else {\n      this._state = this._reduce();\n    }\n\n    this._listeners = [];\n    this._initMiddlewares();\n  }\n\n  _initMiddlewares() {\n    const middlewareAPI = {\n      getState: this.getState.bind(this),\n      dispatch: (action, ...args) => this.dispatch(action, ...args),\n    };\n    const chain = this._middlewares.map((middleware) =>\n      middleware(middlewareAPI)\n    );\n    this.dispatch = chain.reduce(\n      (next, middleware) => middleware(next),\n      this.dispatch.bind(this)\n    );\n  }\n\n  _reduce(state, action) {\n    return Object.keys(this._reducers).reduce((acc, key) => {\n      acc[key] = this._reducers[key](state && state[key], action);\n      return acc;\n    }, {});\n  }\n\n  getState() {\n    return this._state;\n  }\n\n  dispatch(action) {\n    this._state = this._reduce(this._state, action);\n    if (this._isLocalStorageConnected) {\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(this._state));\n    }\n    this._listeners.forEach((listener) => listener());\n  }\n\n  subscribe(listener) {\n    this._listeners.push(listener);\n    return () => {\n      this._listeners = this._listeners.filter((l) => l !== listener);\n    };\n  }\n}\n","import { fetchMiddleware } from './middlewares';\nimport { connectionReducer, profileReducer } from './reducers';\nimport { Store } from './store';\n\nexport const store = new Store(\n  {\n    profile: profileReducer,\n    connection: connectionReducer,\n  },\n  [fetchMiddleware]\n);\n","import {\n  SET_USERNAME,\n  SET_TURN_SERVERS,\n  FETCH_ERROR,\n  DELETE_TURN_SERVERS,\n} from './actions';\n\nexport const profileReducer = (\n  state = { username: 'user', avatar: '' },\n  action = {}\n) => {\n  switch (action.type) {\n    case SET_USERNAME:\n      return { ...state, text: action.payload.username };\n    default:\n      break;\n  }\n};\n\nexport const connectionReducer = (\n  state = { stun: [], turn: [], error: '' },\n  action = {}\n) => {\n  switch (action.type) {\n    case SET_TURN_SERVERS:\n      return { ...state, turn: action.payload.data };\n    case DELETE_TURN_SERVERS:\n      return { ...state, turn: [] };\n    case FETCH_ERROR:\n      return { ...state, error: action.payload.error };\n    default:\n      return state;\n  }\n};\n","import { isPeerConfigObject } from '../connection/utils';\nimport { FETCH_ERROR } from './actions';\n\nexport const fetchMiddleware = (store) => (next) => (action) => {\n  if (action.isFetch) {\n    fetch(action.payload.url)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('success response:', data);\n        return isPeerConfigObject(data);\n      })\n      .then((data) => {\n        const newAction = {\n          type: action.type,\n          payload: { data },\n        };\n        store.dispatch(newAction);\n      })\n      .catch((error) => {\n        const errorMessage =\n          error.name === 'SyntaxError' ? 'Fetch error' : error.message;\n        store.dispatch({\n          type: FETCH_ERROR,\n          payload: { error: errorMessage },\n        });\n        setTimeout(() => {\n          store.dispatch({ type: FETCH_ERROR, payload: { error: '' } });\n        }, 1500);\n      });\n  } else {\n    next(action);\n  }\n};\n","export const isPeerConfigObject = async (data) => {\n  if (!Array.isArray(data)) {\n    return Promise.reject(new Error('Incorrect response'));\n  }\n  for (const server of data) {\n    if (typeof server.urls !== 'string' && !Array.isArray(server.urls)) {\n      return Promise.reject(new Error('Incorrect urls in iceServers'));\n    }\n  }\n  try {\n    new RTCPeerConnection(data);\n    return Promise.resolve(data);\n  } catch (error) {\n    return Promise.reject(\n      new Error('Connection instantiation console.error();')\n    );\n  }\n};\n","import { Component } from '@/base';\nimport { Header } from '@/common';\nimport style from './style.module.css';\n\nexport default (headerText, buttons = []) => {\n  const element = new Component('div').element;\n  element.classList.add(style.menu);\n\n  const header = new Header(headerText);\n\n  element.appendChild(header.element);\n  buttons.forEach((button) => element.appendChild(button));\n\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"j2362cLf\"};","import { connection } from '../app/connection';\nimport { Button, Input } from '../common';\nimport { getBoardModule } from '../modules';\n\nconst getMessageElement = (text) => {\n  const message = document.createElement('div');\n  message.innerText = `[${new Date().getHours()}:${new Date().getMinutes()}]: ${text}`;\n  message.style.fontSize = '24px';\n\n  return message;\n};\n\nexport default () => {\n  const page = document.createElement('div');\n\n  const form = document.createElement('form');\n  form.style.display = 'flex';\n  form.style.justifyContent = 'center';\n  form.style.padding = '20px';\n  form.onsubmit = (event) => event.preventDefault();\n\n  const chatContainer = document.createElement('div');\n  chatContainer.style.padding = '0 16px';\n  if (connection.dataChannel) {\n    connection.dataChannel.onmessage = (event) => {\n      const message = getMessageElement(event.data);\n      message.style.color = 'grey';\n      chatContainer.prepend(message);\n    };\n  }\n  const input = new Input().element;\n  const sendButton = new Button('Send', () => {\n    if (input.value) {\n      const message = getMessageElement(input.value);\n      chatContainer.prepend(message);\n      if (connection.dataChannel) {\n        connection.dataChannel.send(input.value);\n      }\n      input.value = '';\n    }\n  }).element;\n\n  page.appendChild(getBoardModule());\n  form.appendChild(input);\n  form.appendChild(sendButton);\n  page.appendChild(form);\n  page.appendChild(chatContainer);\n  return page;\n};\n","import './app/styles/normalize.css';\nimport { makeServiceWorkers } from './app/service';\nimport {\n  getAlicePage,\n  getBobPage,\n  getConnectPage,\n  getGamePage,\n  getHomePage,\n} from './pages';\nimport router from './app/router';\n\nwindow.addEventListener('load', () => {\n  makeServiceWorkers();\n});\n\nconst rootElement = document.getElementById('root');\n\nrouter.initPageContainer(rootElement);\nrouter.initRoutes({\n  '/': getHomePage,\n  '/alice': getAlicePage,\n  '/bob': getBobPage,\n  '/connect': getConnectPage,\n  '/game': getGamePage,\n});\n","import router from '../app/router';\nimport { getMenuModule } from '../modules';\nimport { Button } from '@/common';\n\nexport default () => {\n  const page = document.createElement('div');\n\n  const connectButton = new Button('p2p', () => {\n    router.navigate('connect');\n  }).element;\n  const engineButton = new Button('Engine').element;\n  engineButton.disabled = true;\n  const offlineButton = new Button('Offline').element;\n  offlineButton.disabled = true;\n\n  const menuButtons = [connectButton, offlineButton, engineButton];\n\n  page.appendChild(getMenuModule('Menu', menuButtons));\n\n  return page;\n};\n","import { Button } from '@/common';\nimport router from '../app/router';\nimport { connection } from '../app/connection';\n\nconst getStatusElement = () => {\n  const status = document.createElement('div');\n  status.style.padding = '8px';\n  status.style.fontSize = '22px';\n\n  status.innerText = 'Статус: ожидаем offer';\n\n  return status;\n};\n\nexport default () => {\n  const page = document.createElement('div');\n  page.style.padding = '20px';\n\n  const statusElement = getStatusElement();\n  const logContainer = document.createElement('div');\n\n  connection.initPeerConnection();\n  connection.initLogger(logContainer);\n  connection.onIceCandidate = () => {\n    statusElement.innerText = 'Статус: создан answer';\n  };\n\n  const pasteButton = new Button('Paste', () => {\n    navigator.clipboard\n      .readText()\n      .then((text) => {\n        connection.onIceCandidate(\n          () => (statusElement.innerText = 'Статус: создан answer')\n        );\n        connection.setRemoteDescription(text);\n        connection.onOpen('alice', () => {\n          router.navigate('game');\n        });\n        connection.createAnswer();\n      })\n      .catch(console.error);\n  }).element;\n  pasteButton.style.marginRight = '8px';\n\n  const copyOffer = new Button('Copy', () => {\n    const offer = connection.getLocalDescription();\n    if (offer) {\n      navigator.clipboard\n        .writeText(offer)\n        .then(() => {\n          statusElement.innerText = 'Статус: скопировано, ждем открытия канала';\n        })\n        .catch(console.error);\n    }\n  }).element;\n\n  page.appendChild(statusElement);\n  page.appendChild(pasteButton);\n  page.appendChild(copyOffer);\n  page.appendChild(logContainer);\n\n  return page;\n};\n","import { Button } from '@/common';\nimport router from '../app/router';\nimport { connection } from '../app/connection';\n\nconst initCallbacks = (statusElement) => {\n  connection.onOpen('bob', () => {\n    router.navigate('game');\n  });\n  connection.onIceCandidate(() => {\n    statusElement.innerText = 'Статус: создан offer';\n  });\n};\n\nconst getStatusElement = () => {\n  const status = document.createElement('div');\n  status.style.padding = '8px';\n  status.style.fontSize = '22px';\n\n  status.innerText = 'Статус:';\n\n  return status;\n};\n\nexport default () => {\n  const page = document.createElement('div');\n  page.style.padding = '20px';\n\n  const statusElement = getStatusElement();\n  const logContainer = document.createElement('div');\n\n  connection.initPeerConnection();\n  initCallbacks(statusElement);\n  connection.initLogger(logContainer);\n  connection.createOffer();\n\n  const copyOffer = new Button('Copy', () => {\n    const offer = connection.getLocalDescription();\n    if (offer) {\n      navigator.clipboard\n        .writeText(offer)\n        .then(() => {\n          statusElement.innerText = 'Статус: скопировано, ожидаем answer';\n        })\n        .catch(console.error);\n    }\n  }).element;\n  copyOffer.style.marginRight = '8px';\n\n  const pasteButton = new Button('Paste', () => {\n    navigator.clipboard\n      .readText()\n      .then((text) => {\n        connection.setRemoteDescription(text);\n      })\n      .catch(console.error);\n  }).element;\n\n  page.appendChild(statusElement);\n\n  page.appendChild(copyOffer);\n  page.appendChild(pasteButton);\n  page.appendChild(logContainer);\n\n  return page;\n};\n","import { store } from '../app/data';\nimport { DELETE_TURN_SERVERS, SET_TURN_SERVERS } from '../app/data/actions';\nimport router from '../app/router';\nimport Component from '../base/Component';\nimport { getMenuModule } from '../modules';\nimport { Button } from '@/common';\n\nconst getTurnStatusElement = () => {\n  const turnStatus = new Component('div');\n  turnStatus.element.style.display = 'flex';\n  turnStatus.element.style.justifyContent = 'center';\n  turnStatus.subscribe(store, () => {\n    if (store.getState()?.connection?.turn.length > 0) {\n      turnStatus.element.innerText = 'turn is connected';\n      turnStatus.element.style.color = 'green';\n    } else if (store.getState()?.connection?.error) {\n      turnStatus.element.innerText = store.getState().connection.error;\n      turnStatus.element.style.color = 'red';\n    } else {\n      turnStatus.element.innerText = 'turn is not connected';\n      turnStatus.element.style.color = 'orange';\n    }\n  });\n\n  return turnStatus.element;\n};\n\nexport default () => {\n  const page = document.createElement('div');\n\n  const bobButton = new Button('Bob', () => {\n    router.navigate('bob');\n  }).element;\n\n  const aliceButton = new Button('Alice', () => {\n    router.navigate('alice');\n  }).element;\n\n  const turnButton = new Button('Past TURN', () => {\n    navigator.clipboard\n      .readText()\n      .then((text) => {\n        store.dispatch({\n          isFetch: true,\n          type: SET_TURN_SERVERS,\n          payload: { url: text },\n        });\n      })\n      .catch(console.error);\n  }).element;\n\n  const deleteTurnButton = new Button('Delete TURN', () => {\n    store.dispatch({ type: DELETE_TURN_SERVERS });\n  }).element;\n\n  const backButton = new Button('←', () => {\n    router.navigate('');\n  }).element;\n  backButton.style.marginTop = '20px';\n\n  const menuButtons = [\n    bobButton,\n    aliceButton,\n    turnButton,\n    deleteTurnButton,\n    backButton,\n  ];\n\n  page.appendChild(getMenuModule('Choose the role', menuButtons));\n  page.appendChild(getTurnStatusElement());\n\n  return page;\n};\n","import styles from './style.module.css';\n\nconst initBoard = () => {\n  setTimeout(() => {\n    Chessboard('board', {\n      pieceTheme: 'assets/{piece}.png',\n      position: 'start',\n      draggable: false,\n      dropOffBoard: 'trash',\n      sparePieces: false,\n    });\n  });\n};\n\nexport default () => {\n  const element = document.createElement('div');\n  element.classList.add(styles.module);\n\n  const boardElement = document.createElement('div');\n  boardElement.id = 'board';\n  boardElement.classList.add(styles.board);\n\n  initBoard();\n  element.appendChild(boardElement);\n  return element;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"module\":\"oZzzSD5h\",\"board\":\"uMa1QfRN\"};"],"names":["peerConfiguration","iceServers","urls","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","constructor","tagName","attributes","arguments","length","this","_element","document","createElement","entries","setAttribute","element","subscribe","store","callback","Component","text","super","innerText","classList","add","updateText","onClick","onclick","pageId","console","log","window","addEventListener","event","_resolve","initRoutes","routes","_routes","initPageContainer","_pageContainer","id","_activeClassResolver","eventType","location","hash","updateActiveClass","navigate","url","isActive","_updatePage","innerHTML","appendChild","getHomePage","getNewPage","replace","require","connection","initPeerConnection","state","JSON","parse","localStorage","getItem","push","turn","peer","RTCPeerConnection","initLogger","logContainer","addMessage","message","status","style","paddingBottom","color","prepend","onconnectionstatechange","iceConnectionState","onicecandidateerror","type","onicecandidate","candidate","getLocalDescription","stringify","localDescription","onIceCandidate","setRemoteDescription","rowData","createOffer","offer","setLocalDescription","error","createAnswer","answer","onOpen","role","ondatachannel","dataChannel","channel","onopen","createDataChannel","FETCH_ERROR","SET_TURN_SERVERS","DELETE_TURN_SERVERS","LOCAL_STORAGE_KEY","reducers","middlewares","isLocalStorageConnected","_reducers","_middlewares","_isLocalStorageConnected","stateFromLocalStorage","_state","_reduce","_listeners","_initMiddlewares","_this","middlewareAPI","getState","bind","dispatch","action","_len","args","Array","_key","chain","map","middleware","reduce","next","keys","acc","setItem","forEach","listener","filter","l","profile","username","avatar","payload","stun","data","isFetch","fetch","then","response","json","async","isArray","Promise","reject","Error","server","resolve","isPeerConfigObject","newAction","catch","errorMessage","name","setTimeout","headerText","buttons","header","Header","button","getMessageElement","Date","getHours","getMinutes","fontSize","navigator","serviceWorker","register","makeServiceWorkers","rootElement","getElementById","router","page","connectButton","Button","engineButton","disabled","offlineButton","menuButtons","getMenuModule","padding","statusElement","getStatusElement","pasteButton","clipboard","readText","marginRight","copyOffer","writeText","initCallbacks","bobButton","aliceButton","turnButton","deleteTurnButton","backButton","marginTop","getTurnStatusElement","turnStatus","display","justifyContent","form","onsubmit","preventDefault","chatContainer","onmessage","input","Input","sendButton","send","boardElement","Chessboard","pieceTheme","position","draggable","dropOffBoard","sparePieces","getBoardModule"],"sourceRoot":""}